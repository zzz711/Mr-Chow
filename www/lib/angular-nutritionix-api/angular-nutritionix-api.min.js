/**
 * @license Angular Nutritionix Api
 * (c) 2014 Nutritionix, LLC. http://nutritinix.com
 * License: MIT
 */
!function(t,n){"use strict";var e=n.module("nix.api",[]);e.deepMerge=function r(t,e){var i,a;if(arguments.length>2)return r(t,r.apply(null,Array.prototype.slice.call(arguments,1)));i=n.copy(t);for(a in e)e.hasOwnProperty(a)&&(i[a]=i.hasOwnProperty(a)&&n.isObject(i[a])&&n.isObject(e[a])?r(i[a],e[a]):n.copy(e[a]));return i},e.provider("nixApi",function(){var t,r="https://api.nutritionix.com/v2",i={},a={};this.setApiEndpoint=function(t){r=t},t=this.setApiCredentials=function(t,n){i.appId=t,i.appKey=n},this.setHttpConfig=function(t){n.isObject(t)&&(a=t)},this.$get=["$http",function(u){var l=function(t,n){return n=e.deepMerge({method:"GET",url:r+t,headers:{"X-APP-ID":i.appId,"X-APP-KEY":i.appKey},params:{}},a,n),u(n)};return l.setApiCredentials=t,l.calories_nutrient=208,l.macronutrients=[204,606,205,291,269,203],l.autocomplete=function(t){var e=n.isObject(t)?t:{q:t};return l("/autocomplete",{params:e})},l.natural=function(t,n){return l("/natural",{method:"POST",data:t,params:n?{gram_weight:n}:{},headers:{"Content-Type":"text/plain"}})},l.search=function(t,e,r,i){var a,u={q:null,limit:10,offset:0,search_nutrient:"calories"};return a=n.isObject(t)?t:{q:t,limit:e,offset:r,search_nutrient:i},n.forEach(u,function(t,n){a[n]||(a[n]=t)}),l("/search",{params:a})},l.brand_search=function(t,e,r,i,a,u){var o,s={q:null,type:1};return n.isObject(t)?o=t:(o={q:t,type:e},(r||i)&&(o.limit=r,o.offset=i),a&&(o.mobile_calc="true"),u&&(o.desktop_calc="true")),n.forEach(s,function(t,n){o[n]||(o[n]=t)}),l("/search/brands",{params:o})},l.item=function(t){return n.isObject(t)&&(t=t.id||t.resource_id),l("/item/"+t)},l.brand=function(t){return n.isObject(t)&&(t=t.id),l("/brand/"+t)},l}]}),e.filter("nutrient",function(){return function(t,e,r){var i;if(e=parseInt(e),e&&n.isArray(t))for(i in t)if(t.hasOwnProperty(i)&&parseInt(t[i].attr_id)===e)return r?t[i][r]:t[i];return null}}),e.filter("naturalToItem",function(){return function(t){return n.isObject(t)?{id:null,name:t.parsed_query.food,type:null,tags:[],ingredient_statement:null,brand:{id:null,name:null,website:null,logo:null},images:{front:{full:null,thumb:null},label:{full:null}},label:{nutrients:t.nutrients,serving:{qty:t.serving_qty,uom:t.serving_unit,per_container:null,metric:{qty:t.serving_weight,uom:"g"}}}}:void 0}})}(window,window.angular);